import{m as l}from"./js/vendor-ilNucY1j.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const c="https://raw.githubusercontent.com/tmiyachi/jma-gis/master",t=new l.Map({container:"map",center:[135,35],zoom:7,maxZoom:10,minZoom:4,style:{version:8,sources:{"jmagis-vector":{type:"vector",tiles:[`${c}/tiles/zxy/{z}/{x}/{y}.pbf`],attribution:'<a href="https://www.data.jma.go.jp/developer/gis.html">気象庁「予報区等GISデータ」</a>を加工して作成'}},layers:[{id:"city-fills",type:"fill",source:"jmagis-vector","source-layer":"city",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":["case",["boolean",["feature-state","hover"],!1],1,.5]}},{id:"matomearea-lines",type:"line",source:"jmagis-vector","source-layer":"matomearea",layout:{},paint:{"line-color":"#627BC1","line-opacity":.8}},{id:"firstarea-fills",type:"fill",source:"jmagis-vector","source-layer":"firstarea",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":.5},maxzoom:7},{id:"firstarea-lines",type:"line",source:"jmagis-vector","source-layer":"firstarea",layout:{},paint:{"line-color":"#757575","line-width":.8},minzoom:7},{id:"pref-lines",type:"line",source:"jmagis-vector","source-layer":"pref",layout:{},paint:{"line-color":"#212121","line-width":.8}}]}});t.addControl(new l.ScaleControl);t.addControl(new l.NavigationControl);t.on("load",function(){let r=null;t.on("mousemove","city-fills",function(e){e.features.length>0&&(r&&t.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:r},{hover:!1}),r=e.features[0].id,t.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:r},{hover:!0}),n(e.features[0].properties))}),t.on("mouseleave","city-fills",function(){r&&(t.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:r},{hover:!1}),n(null)),r=null,t.getCanvas().style.cursor=""}),t.on("mouseenter","city-fills",()=>{t.getCanvas().style.cursor="pointer"});const i=document.getElementById("zoomlevel");i.innerHTML=`ズームレベル: ${Math.round(t.getZoom()*100)/100}`,document.getElementById("control").classList.remove("hidden"),t.on("zoom",function(){i.innerHTML=`ズームレベル: ${Math.round(t.getZoom()*100)/100}`});const a=document.getElementById("contentInfo"),n=e=>{if(e){let o=`
<table>
<tr><td>府県予報区</td><td>${e.prefname??"-"}（${e.prefname_kn??"-"}）</td></tr>
<tr><td>一次細分区</td><td>${e.firstareaname??"-"}（${e.firstareaname_kn??"-"}）</td></tr>
<tr><td>市町村等をまとめた地域</td><td>${e.matomeareaname??"-"}（${e.matomeareaname_kn??"-"}）</td></tr>
<tr><td>二次細分区</td><td>${e.cityname??"-"}（${e.cityname_kn??"-"}）</td></tr>
</table>`;a.innerHTML=o}else a.innerHTML=""}});
