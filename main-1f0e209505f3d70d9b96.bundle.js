(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=mapboxgl;var o=e.n(t);const r=new(o().Map)({container:"map",center:[135,35],zoom:7,maxZoom:10,minZoom:4,style:{version:8,sources:{"jmagis-vector":{type:"vector",tiles:["https://raw.githubusercontent.com/tmiyachi/jma-gis/master/tiles/zxy/{z}/{x}/{y}.pbf"],attribution:'<a href="https://www.data.jma.go.jp/developer/gis.html">気象庁「予報区等GISデータ」</a>を加工して作成'}},layers:[{id:"city-fills",type:"fill",source:"jmagis-vector","source-layer":"city",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":["case",["boolean",["feature-state","hover"],!1],1,.5]}},{id:"matomearea-lines",type:"line",source:"jmagis-vector","source-layer":"matomearea",layout:{},paint:{"line-color":"#627BC1","line-opacity":.8}},{id:"firstarea-fills",type:"fill",source:"jmagis-vector","source-layer":"firstarea",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":.5},maxzoom:7},{id:"firstarea-lines",type:"line",source:"jmagis-vector","source-layer":"firstarea",layout:{},paint:{"line-color":"#757575","line-width":.8},minzoom:7},{id:"pref-lines",type:"line",source:"jmagis-vector","source-layer":"pref",layout:{},paint:{"line-color":"#212121","line-width":.8}}]}});r.addControl(new(o().ScaleControl)),r.addControl(new(o().NavigationControl)),r.on("load",(function(){let e=null;r.on("mousemove","city-fills",(function(t){t.features.length>0&&(e&&r.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:e},{hover:!1}),e=t.features[0].id,r.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:e},{hover:!0}),a(t.features[0].properties))})),r.on("mouseleave","city-fills",(function(){e&&(r.setFeatureState({source:"jmagis-vector",sourceLayer:"city",id:e},{hover:!1}),a(null)),e=null,r.getCanvas().style.cursor=""})),r.on("mouseenter","city-fills",(()=>{r.getCanvas().style.cursor="pointer"}));const t=document.getElementById("zoomlevel");t.innerHTML="ズームレベル: "+Math.round(100*r.getZoom())/100,document.getElementById("control").classList.remove("hidden"),r.on("zoom",(function(){t.innerHTML="ズームレベル: "+Math.round(100*r.getZoom())/100}));const o=document.getElementById("contentInfo"),a=e=>{if(e){let t=`\n<table>\n<tr><td>府県予報区</td><td>${e.prefname??"-"}（${e.prefname_kn??"-"}）</td></tr>\n<tr><td>一次細分区</td><td>${e.firstareaname??"-"}（${e.firstareaname_kn??"-"}）</td></tr>\n<tr><td>市町村等をまとめた地域</td><td>${e.matomeareaname??"-"}（${e.matomeareaname_kn??"-"}）</td></tr>\n<tr><td>二次細分区</td><td>${e.cityname??"-"}（${e.cityname_kn??"-"}）</td></tr>\n</table>`;o.innerHTML=t}else o.innerHTML=""}}))})();